{"version":3,"sources":["webpack:///./src/api/brand.js","webpack:///./src/views/pro/brand/index.vue?aab3","webpack:///src/views/pro/brand/index.vue","webpack:///./src/views/pro/brand/index.vue?b5e3","webpack:///./src/views/pro/brand/index.vue"],"names":["fetchList","params","request","url","method","createBrand","data","updateShowStatus","updateFactoryStatus","deleteBrand","id","getBrand","updateBrand","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","staticStyle","on","$event","searchBrandList","listQuery","model","value","callback","$$v","$set","expression","addBrand","directives","name","rawName","ref","list","handleSelectionChange","scopedSlots","_u","key","fn","scope","_s","row","firstLetter","sort","handleFactoryStatusChange","$index","handleShowStatusChange","getProductList","getProductCommentList","handleUpdate","handleDelete","pageSize","pageNum","total","handleSizeChange","handleCurrentChange","staticRenderFns","operates","operateType","keyword","listLoading","multipleSelection","created","getList","methods","val","$router","push","$confirm","confirmButtonText","cancelButtonText","type","message","duration","console","log","index","URLSearchParams","append","factoryStatus","showStatus","handleBatchOperate","$message","ids","i","component"],"mappings":"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","file":"js/chunk-7f64633e.fb10c035.js","sourcesContent":["import request from '@/utils/request'\r\nexport function fetchList(params) {\r\n  return request({\r\n    url:'/brand/list',\r\n    method:'get',\r\n    params:params\r\n  })\r\n}\r\nexport function createBrand(data) {\r\n  return request({\r\n    url:'/brand/create',\r\n    method:'post',\r\n    data:data\r\n  })\r\n}\r\nexport function updateShowStatus(data) {\r\n  return request({\r\n    url:'/brand/update/showStatus',\r\n    method:'post',\r\n    data:data\r\n  })\r\n}\r\n\r\nexport function updateFactoryStatus(data) {\r\n  return request({\r\n    url:'/brand/update/factoryStatus',\r\n    method:'post',\r\n    data:data\r\n  })\r\n}\r\n\r\nexport function deleteBrand(id) {\r\n  return request({\r\n    url:'/brand/delete/'+id,\r\n    method:'get',\r\n  })\r\n}\r\n\r\nexport function getBrand(id) {\r\n  return request({\r\n    url:'/brand/'+id,\r\n    method:'get',\r\n  })\r\n}\r\n\r\nexport function updateBrand(id,data) {\r\n  return request({\r\n    url:'/brand/update/'+id,\r\n    method:'post',\r\n    data:data\r\n  })\r\n}\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_c('span',[_vm._v(\"筛选搜索\")]),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.searchBrandList()}}},[_vm._v(\" 查询结果 \")])],1),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.listQuery,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"输入搜索：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"placeholder\":\"品牌名称/关键字\"},model:{value:(_vm.listQuery.keyword),callback:function ($$v) {_vm.$set(_vm.listQuery, \"keyword\", $$v)},expression:\"listQuery.keyword\"}})],1)],1)],1)]),_c('el-card',{staticClass:\"operate-container\",attrs:{\"shadow\":\"never\"}},[_c('i',{staticClass:\"el-icon-tickets\"}),_c('span',[_vm._v(\"数据列表\")]),_c('el-button',{staticClass:\"btn-add\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.addBrand()}}},[_vm._v(\" 添加 \")])],1),_c('div',{staticClass:\"table-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],ref:\"brandTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"60\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"编号\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.id))]}}])}),_c('el-table-column',{attrs:{\"label\":\"品牌名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.name))]}}])}),_c('el-table-column',{attrs:{\"label\":\"品牌首字母\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.firstLetter))]}}])}),_c('el-table-column',{attrs:{\"label\":\"排序\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.sort))]}}])}),_c('el-table-column',{attrs:{\"label\":\"品牌制造商\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},on:{\"change\":function($event){return _vm.handleFactoryStatusChange(scope.$index, scope.row)}},model:{value:(scope.row.factoryStatus),callback:function ($$v) {_vm.$set(scope.row, \"factoryStatus\", $$v)},expression:\"scope.row.factoryStatus\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"是否显示\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},on:{\"change\":function($event){return _vm.handleShowStatusChange(scope.$index, scope.row)}},model:{value:(scope.row.showStatus),callback:function ($$v) {_vm.$set(scope.row, \"showStatus\", $$v)},expression:\"scope.row.showStatus\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"相关\",\"width\":\"220\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\"商品：\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.getProductList(scope.$index, scope.row)}}},[_vm._v(\"100 \")]),_c('span',[_vm._v(\"评价：\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.getProductCommentList(scope.$index, scope.row)}}},[_vm._v(\"1000 \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleUpdate(scope.$index, scope.row)}}},[_vm._v(\"编辑 \")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除 \")])]}}])})],1)],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, sizes,prev, pager, next,jumper\",\"page-size\":_vm.listQuery.pageSize,\"page-sizes\":[5, 10, 15],\"current-page\":_vm.listQuery.pageNum,\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.listQuery, \"pageNum\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.listQuery, \"pageNum\", $event)}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"app-container\">\r\n    <el-card class=\"filter-container\" shadow=\"never\">\r\n      <div>\r\n        <i class=\"el-icon-search\"></i>\r\n        <span>筛选搜索</span>\r\n        <el-button\r\n          style=\"float: right\"\r\n          @click=\"searchBrandList()\"\r\n          type=\"primary\"\r\n          size=\"small\"\r\n        >\r\n          查询结果\r\n        </el-button>\r\n      </div>\r\n      <div style=\"margin-top: 15px\">\r\n        <el-form\r\n          :inline=\"true\"\r\n          :model=\"listQuery\"\r\n          size=\"small\"\r\n          label-width=\"140px\"\r\n        >\r\n          <el-form-item label=\"输入搜索：\">\r\n            <el-input\r\n              style=\"width: 203px\"\r\n              v-model=\"listQuery.keyword\"\r\n              placeholder=\"品牌名称/关键字\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n    <el-card class=\"operate-container\" shadow=\"never\">\r\n      <i class=\"el-icon-tickets\"></i>\r\n      <span>数据列表</span>\r\n      <el-button class=\"btn-add\" @click=\"addBrand()\" size=\"mini\">\r\n        添加\r\n      </el-button>\r\n    </el-card>\r\n    <div class=\"table-container\">\r\n      <el-table\r\n        ref=\"brandTable\"\r\n        :data=\"list\"\r\n        style=\"width: 100%\"\r\n        @selection-change=\"handleSelectionChange\"\r\n        v-loading=\"listLoading\"\r\n        border\r\n      >\r\n        <el-table-column\r\n          type=\"selection\"\r\n          width=\"60\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"编号\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{ scope.row.id }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"品牌名称\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{ scope.row.name }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"品牌首字母\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{ scope.row.firstLetter }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"排序\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{ scope.row.sort }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"品牌制造商\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-switch\r\n              @change=\"handleFactoryStatusChange(scope.$index, scope.row)\"\r\n              :active-value=\"1\"\r\n              :inactive-value=\"0\"\r\n              v-model=\"scope.row.factoryStatus\"\r\n            >\r\n            </el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"是否显示\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-switch\r\n              @change=\"handleShowStatusChange(scope.$index, scope.row)\"\r\n              :active-value=\"1\"\r\n              :inactive-value=\"0\"\r\n              v-model=\"scope.row.showStatus\"\r\n            >\r\n            </el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"相关\" width=\"220\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span>商品：</span>\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"text\"\r\n              @click=\"getProductList(scope.$index, scope.row)\"\r\n              >100\r\n            </el-button>\r\n            <span>评价：</span>\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"text\"\r\n              @click=\"getProductCommentList(scope.$index, scope.row)\"\r\n              >1000\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"mini\"\r\n              @click=\"handleUpdate(scope.$index, scope.row)\"\r\n              >编辑\r\n            </el-button>\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\"\r\n              >删除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n\r\n    <div class=\"pagination-container\">\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        layout=\"total, sizes,prev, pager, next,jumper\"\r\n        :page-size=\"listQuery.pageSize\"\r\n        :page-sizes=\"[5, 10, 15]\"\r\n        :current-page.sync=\"listQuery.pageNum\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  fetchList,\r\n  updateShowStatus,\r\n  updateFactoryStatus,\r\n  deleteBrand,\r\n} from '@/api/brand'\r\n\r\nexport default {\r\n  name: 'brandList',\r\n  data() {\r\n    return {\r\n      operates: [\r\n        {\r\n          label: '显示品牌',\r\n          value: 'showBrand',\r\n        },\r\n        {\r\n          label: '隐藏品牌',\r\n          value: 'hideBrand',\r\n        },\r\n      ],\r\n      operateType: null,\r\n      listQuery: {\r\n        keyword: null,\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n      },\r\n      list: null,\r\n      total: null,\r\n      listLoading: true,\r\n      multipleSelection: [],\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    // 获取list\r\n    getList() {\r\n      this.listLoading = true\r\n      fetchList(this.listQuery).then((response) => {\r\n        this.listLoading = false\r\n        this.list = response.data.list\r\n        this.total = response.data.total\r\n        this.totalPage = response.data.totalPage\r\n        this.pageSize = response.data.pageSize\r\n      })\r\n    },\r\n\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val\r\n    },\r\n    // 编辑按钮\r\n    handleUpdate(index, row) {\r\n      this.$router.push({ path: '/updateBrand', query: { id: row.id } })\r\n    },\r\n    // 删除按钮\r\n    handleDelete(index, row) {\r\n      this.$confirm('是否要删除该品牌', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      }).then(() => {\r\n        deleteBrand(row.id).then((response) => {\r\n          this.$message({\r\n            message: '删除成功',\r\n            type: 'success',\r\n            duration: 1000,\r\n          })\r\n          this.getList()\r\n        })\r\n      })\r\n    },\r\n    getProductList(index, row) {\r\n      console.log(index, row)\r\n    },\r\n    getProductCommentList(index, row) {\r\n      console.log(index, row)\r\n    },\r\n    handleFactoryStatusChange(index, row) {\r\n      var data = new URLSearchParams()\r\n      data.append('ids', row.id)\r\n      data.append('factoryStatus', row.factoryStatus)\r\n      updateFactoryStatus(data)\r\n        .then((response) => {\r\n          this.$message({\r\n            message: '修改成功',\r\n            type: 'success',\r\n            duration: 1000,\r\n          })\r\n        })\r\n        .catch((error) => {\r\n          if (row.factoryStatus === 0) {\r\n            row.factoryStatus = 1\r\n          } else {\r\n            row.factoryStatus = 0\r\n          }\r\n        })\r\n    },\r\n    handleShowStatusChange(index, row) {\r\n      let data = new URLSearchParams()\r\n      data.append('ids', row.id)\r\n      data.append('showStatus', row.showStatus)\r\n      updateShowStatus(data)\r\n        .then((response) => {\r\n          this.$message({\r\n            message: '修改成功',\r\n            type: 'success',\r\n            duration: 1000,\r\n          })\r\n        })\r\n        .catch((error) => {\r\n          if (row.showStatus === 0) {\r\n            row.showStatus = 1\r\n          } else {\r\n            row.showStatus = 0\r\n          }\r\n        })\r\n    },\r\n    handleSizeChange(val) {\r\n      this.listQuery.pageNum = 1\r\n      this.listQuery.pageSize = val\r\n      this.getList()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.listQuery.pageNum = val\r\n      this.getList()\r\n    },\r\n    searchBrandList() {\r\n      this.listQuery.pageNum = 1\r\n      this.getList()\r\n    },\r\n    handleBatchOperate() {\r\n      console.log(this.multipleSelection)\r\n      if (this.multipleSelection < 1) {\r\n        this.$message({\r\n          message: '请选择一条记录',\r\n          type: 'warning',\r\n          duration: 1000,\r\n        })\r\n        return\r\n      }\r\n      let showStatus = 0\r\n      if (this.operateType === 'showBrand') {\r\n        showStatus = 1\r\n      } else if (this.operateType === 'hideBrand') {\r\n        showStatus = 0\r\n      } else {\r\n        this.$message({\r\n          message: '请选择批量操作类型',\r\n          type: 'warning',\r\n          duration: 1000,\r\n        })\r\n        return\r\n      }\r\n      let ids = []\r\n      for (let i = 0; i < this.multipleSelection.length; i++) {\r\n        ids.push(this.multipleSelection[i].id)\r\n      }\r\n      let data = new URLSearchParams()\r\n      data.append('ids', ids)\r\n      data.append('showStatus', showStatus)\r\n      updateShowStatus(data).then((response) => {\r\n        this.getList()\r\n        this.$message({\r\n          message: '修改成功',\r\n          type: 'success',\r\n          duration: 1000,\r\n        })\r\n      })\r\n    },\r\n    addBrand() {\r\n      this.$router.push({ path: '/addBrand' })\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=45d58ecc&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45d58ecc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}