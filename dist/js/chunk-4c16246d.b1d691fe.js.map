{"version":3,"sources":["webpack:///./src/views/sem/coupon/components/CouponDetail.vue?c02d","webpack:///./src/views/sem/coupon/components/CouponDetail.vue?eb47","webpack:///src/views/sem/coupon/components/CouponDetail.vue","webpack:///./src/views/sem/coupon/components/CouponDetail.vue?9535","webpack:///./src/views/sem/coupon/components/CouponDetail.vue","webpack:///./src/views/sem/coupon/updateCoupon.vue?fabd","webpack:///src/views/sem/coupon/updateCoupon.vue","webpack:///./src/views/sem/coupon/updateCoupon.vue?2f97","webpack:///./src/views/sem/coupon/updateCoupon.vue","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/api/product.js","webpack:///./src/api/coupon.js","webpack:///./src/api/productCate.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","ref","coupon","rules","model","value","callback","$$v","$set","expression","_l","type","key","label","item","_n","slot","_v","staticStyle","directives","name","rawName","useType","productCateOptions","selectProductCate","on","$event","handleAddProductCategoryRelation","productCategoryRelationList","scopedSlots","_u","fn","scope","_s","row","parentCategoryName","productCategoryName","handleDeleteProductCateRelation","$index","searchProductMethod","selectProductLoading","selectProduct","productId","productName","productSn","handleAddProductRelation","productRelationList","handleDeleteProductRelation","onSubmit","isEdit","_e","resetForm","staticRenderFns","component","components","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","length","actualStart","argumentsLength","arguments","TypeError","fetchList","params","request","url","method","fetchSimpleList","updateDeleteStatus","updateNewStatus","updateRecommendStatus","updatePublishStatus","createProduct","data","updateProduct","id","getProduct","createCoupon","getCoupon","updateCoupon","deleteCoupon","parentId","deleteProductCate","createProductCate","updateProductCate","getProductCate","updateShowStatus","updateNavStatus","fetchListWithChildren"],"mappings":"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","file":"js/chunk-4c16246d.b1d691fe.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CouponDetail.vue?vue&type=style&index=0&id=39d7cd6c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"form-container\",attrs:{\"shadow\":\"never\"}},[_c('el-form',{ref:\"couponFrom\",attrs:{\"model\":_vm.coupon,\"rules\":_vm.rules,\"label-width\":\"150px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"优惠券类型：\"}},[_c('el-select',{model:{value:(_vm.coupon.type),callback:function ($$v) {_vm.$set(_vm.coupon, \"type\", $$v)},expression:\"coupon.type\"}},_vm._l((_vm.typeOptions),function(type){return _c('el-option',{key:type.value,attrs:{\"label\":type.label,\"value\":type.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"优惠券名称：\",\"prop\":\"name\"}},[_c('el-input',{staticClass:\"input-width\",model:{value:(_vm.coupon.name),callback:function ($$v) {_vm.$set(_vm.coupon, \"name\", $$v)},expression:\"coupon.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"适用平台：\"}},[_c('el-select',{model:{value:(_vm.coupon.platform),callback:function ($$v) {_vm.$set(_vm.coupon, \"platform\", $$v)},expression:\"coupon.platform\"}},_vm._l((_vm.platformOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"总发行量：\",\"prop\":\"publishCount\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"placeholder\":\"只能输入正整数\"},model:{value:(_vm.coupon.publishCount),callback:function ($$v) {_vm.$set(_vm.coupon, \"publishCount\", _vm._n($$v))},expression:\"coupon.publishCount\"}})],1),_c('el-form-item',{attrs:{\"label\":\"面额：\",\"prop\":\"amount\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"placeholder\":\"面值只能是数值，限2位小数\"},model:{value:(_vm.coupon.amount),callback:function ($$v) {_vm.$set(_vm.coupon, \"amount\", _vm._n($$v))},expression:\"coupon.amount\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2)],1),_c('el-form-item',{attrs:{\"label\":\"每人限领：\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"placeholder\":\"只能输入正整数\"},model:{value:(_vm.coupon.perLimit),callback:function ($$v) {_vm.$set(_vm.coupon, \"perLimit\", $$v)},expression:\"coupon.perLimit\"}},[_c('template',{slot:\"append\"},[_vm._v(\"张\")])],2)],1),_c('el-form-item',{attrs:{\"label\":\"使用门槛：\",\"prop\":\"minPoint\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"placeholder\":\"只能输入正整数\"},model:{value:(_vm.coupon.minPoint),callback:function ($$v) {_vm.$set(_vm.coupon, \"minPoint\", _vm._n($$v))},expression:\"coupon.minPoint\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"满\")]),_c('template',{slot:\"append\"},[_vm._v(\"元可用\")])],2)],1),_c('el-form-item',{attrs:{\"label\":\"有效期：\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"150px\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.coupon.startTime),callback:function ($$v) {_vm.$set(_vm.coupon, \"startTime\", $$v)},expression:\"coupon.startTime\"}}),_c('span',{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"20px\"}},[_vm._v(\"至\")]),_c('el-date-picker',{staticStyle:{\"width\":\"150px\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.coupon.endTime),callback:function ($$v) {_vm.$set(_vm.coupon, \"endTime\", $$v)},expression:\"coupon.endTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"可使用商品：\"}},[_c('el-radio-group',{model:{value:(_vm.coupon.useType),callback:function ($$v) {_vm.$set(_vm.coupon, \"useType\", $$v)},expression:\"coupon.useType\"}},[_c('el-radio-button',{attrs:{\"label\":0}},[_vm._v(\"全场通用\")]),_c('el-radio-button',{attrs:{\"label\":1}},[_vm._v(\"指定分类\")]),_c('el-radio-button',{attrs:{\"label\":2}},[_vm._v(\"指定商品\")])],1)],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.coupon.useType===1),expression:\"coupon.useType===1\"}]},[_c('el-cascader',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择分类名称\",\"options\":_vm.productCateOptions},model:{value:(_vm.selectProductCate),callback:function ($$v) {_vm.selectProductCate=$$v},expression:\"selectProductCate\"}}),_c('el-button',{on:{\"click\":function($event){return _vm.handleAddProductCategoryRelation()}}},[_vm._v(\"添加\")]),_c('el-table',{ref:\"productCateRelationTable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.coupon.productCategoryRelationList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"分类名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.parentCategoryName)+\">\"+_vm._s(scope.row.productCategoryName))]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDeleteProductCateRelation(scope.$index, scope.row)}}},[_vm._v(\"删除 \")])]}}])})],1)],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.coupon.useType===2),expression:\"coupon.useType===2\"}]},[_c('el-select',{attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"商品名称/商品货号\",\"remote-method\":_vm.searchProductMethod,\"loading\":_vm.selectProductLoading},model:{value:(_vm.selectProduct),callback:function ($$v) {_vm.selectProduct=$$v},expression:\"selectProduct\"}},_vm._l((_vm.selectProductOptions),function(item){return _c('el-option',{key:item.productId,attrs:{\"label\":item.productName,\"value\":item.productId}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(item.productName))]),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#8492a6\",\"font-size\":\"13px\"}},[_vm._v(\"NO.\"+_vm._s(item.productSn))])])}),1),_c('el-button',{on:{\"click\":function($event){return _vm.handleAddProductRelation()}}},[_vm._v(\"添加\")]),_c('el-table',{ref:\"productRelationTable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.coupon.productRelationList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.productName))]}}])}),_c('el-table-column',{attrs:{\"label\":\"货号\",\"align\":\"center\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"NO.\"+_vm._s(scope.row.productSn))]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDeleteProductRelation(scope.$index, scope.row)}}},[_vm._v(\"删除 \")])]}}])})],1)],1),_c('el-form-item',{attrs:{\"label\":\"备注：\"}},[_c('el-input',{staticClass:\"input-width\",attrs:{\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"请输入内容\"},model:{value:(_vm.coupon.note),callback:function ($$v) {_vm.$set(_vm.coupon, \"note\", $$v)},expression:\"coupon.note\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('couponFrom')}}},[_vm._v(\"提交\")]),(!_vm.isEdit)?_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('couponFrom')}}},[_vm._v(\"重置\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template> \r\n  <el-card class=\"form-container\" shadow=\"never\">\r\n    <el-form :model=\"coupon\"\r\n             :rules=\"rules\"\r\n             ref=\"couponFrom\"\r\n             label-width=\"150px\"\r\n             size=\"small\">\r\n      <el-form-item label=\"优惠券类型：\">\r\n        <el-select v-model=\"coupon.type\">\r\n          <el-option\r\n            v-for=\"type in typeOptions\"\r\n            :key=\"type.value\"\r\n            :label=\"type.label\"\r\n            :value=\"type.value\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"优惠券名称：\" prop=\"name\">\r\n        <el-input v-model=\"coupon.name\" class=\"input-width\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"适用平台：\">\r\n        <el-select v-model=\"coupon.platform\">\r\n          <el-option\r\n            v-for=\"item in platformOptions\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"总发行量：\" prop=\"publishCount\">\r\n        <el-input v-model.number=\"coupon.publishCount\" placeholder=\"只能输入正整数\" class=\"input-width\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"面额：\" prop=\"amount\">\r\n        <el-input v-model.number=\"coupon.amount\" placeholder=\"面值只能是数值，限2位小数\" class=\"input-width\">\r\n          <template slot=\"append\">元</template>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"每人限领：\">\r\n        <el-input v-model=\"coupon.perLimit\" placeholder=\"只能输入正整数\" class=\"input-width\">\r\n          <template slot=\"append\">张</template>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"使用门槛：\" prop=\"minPoint\">\r\n        <el-input v-model.number=\"coupon.minPoint\" placeholder=\"只能输入正整数\" class=\"input-width\">\r\n          <template slot=\"prepend\">满</template>\r\n          <template slot=\"append\">元可用</template>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"有效期：\">\r\n        <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"coupon.startTime\" style=\"width: 150px\"></el-date-picker>\r\n        <span style=\"margin-left: 20px;margin-right: 20px\">至</span>\r\n        <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"coupon.endTime\" style=\"width: 150px\"></el-date-picker>\r\n      </el-form-item>\r\n      <el-form-item label=\"可使用商品：\">\r\n        <el-radio-group v-model=\"coupon.useType\">\r\n          <el-radio-button :label=\"0\">全场通用</el-radio-button>\r\n          <el-radio-button :label=\"1\">指定分类</el-radio-button>\r\n          <el-radio-button :label=\"2\">指定商品</el-radio-button>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item v-show=\"coupon.useType===1\">\r\n        <el-cascader\r\n          clearable\r\n          placeholder=\"请选择分类名称\"\r\n          v-model=\"selectProductCate\"\r\n          :options=\"productCateOptions\">\r\n        </el-cascader>\r\n        <el-button @click=\"handleAddProductCategoryRelation()\">添加</el-button>\r\n        <el-table ref=\"productCateRelationTable\"\r\n                  :data=\"coupon.productCategoryRelationList\"\r\n                  style=\"width: 100%;margin-top: 20px\"\r\n                  border>\r\n          <el-table-column label=\"分类名称\" align=\"center\">\r\n            <template slot-scope=\"scope\">{{scope.row.parentCategoryName}}>{{scope.row.productCategoryName}}</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" align=\"center\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\"\r\n                         type=\"text\"\r\n                         @click=\"handleDeleteProductCateRelation(scope.$index, scope.row)\">删除\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-form-item>\r\n      <el-form-item v-show=\"coupon.useType===2\">\r\n        <el-select\r\n          v-model=\"selectProduct\"\r\n          filterable\r\n          remote\r\n          reserve-keyword\r\n          placeholder=\"商品名称/商品货号\"\r\n          :remote-method=\"searchProductMethod\"\r\n          :loading=\"selectProductLoading\">\r\n          <el-option\r\n            v-for=\"item in selectProductOptions\"\r\n            :key=\"item.productId\"\r\n            :label=\"item.productName\"\r\n            :value=\"item.productId\">\r\n            <span style=\"float: left\">{{ item.productName }}</span>\r\n            <span style=\"float: right; color: #8492a6; font-size: 13px\">NO.{{ item.productSn }}</span>\r\n          </el-option>\r\n        </el-select>\r\n        <el-button @click=\"handleAddProductRelation()\">添加</el-button>\r\n        <el-table ref=\"productRelationTable\"\r\n                  :data=\"coupon.productRelationList\"\r\n                  style=\"width: 100%;margin-top: 20px\"\r\n                  border>\r\n          <el-table-column label=\"商品名称\" align=\"center\">\r\n            <template slot-scope=\"scope\">{{scope.row.productName}}</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"货号\" align=\"center\"  width=\"120\" >\r\n            <template slot-scope=\"scope\">NO.{{scope.row.productSn}}</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" align=\"center\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\"\r\n                         type=\"text\"\r\n                         @click=\"handleDeleteProductRelation(scope.$index, scope.row)\">删除\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-form-item>\r\n      <el-form-item label=\"备注：\">\r\n        <el-input\r\n          class=\"input-width\"\r\n          type=\"textarea\"\r\n          :rows=\"5\"\r\n          placeholder=\"请输入内容\"\r\n          v-model=\"coupon.note\">\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit('couponFrom')\">提交</el-button>\r\n        <el-button v-if=\"!isEdit\" @click=\"resetForm('couponFrom')\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-card>\r\n</template>\r\n<script>\r\n  import {createCoupon,getCoupon,updateCoupon} from '@/api/coupon';\r\n  import {fetchSimpleList as fetchProductList} from '@/api/product';\r\n  import {fetchListWithChildren} from '@/api/productCate'\r\n  const defaultCoupon = {\r\n    type: 0,\r\n    name: null,\r\n    platform: 0,\r\n    amount: null,\r\n    perLimit: 1,\r\n    minPoint: null,\r\n    startTime: null,\r\n    endTime: null,\r\n    useType: 0,\r\n    note: null,\r\n    publishCount: null,\r\n    productRelationList: [],\r\n    productCategoryRelationList: []\r\n  };\r\n  const defaultTypeOptions = [\r\n    {\r\n      label: '全场赠券',\r\n      value: 0\r\n    },\r\n    {\r\n      label: '会员赠券',\r\n      value: 1\r\n    },\r\n    {\r\n      label: '购物赠券',\r\n      value: 2\r\n    },\r\n    {\r\n      label: '注册赠券',\r\n      value: 3\r\n    }\r\n  ];\r\n  const defaultPlatformOptions = [\r\n    {\r\n      label: '全平台',\r\n      value: 0\r\n    },\r\n    {\r\n      label: '移动平台',\r\n      value: 1\r\n    },\r\n    {\r\n      label: 'PC平台',\r\n      value: 2\r\n    }\r\n  ];\r\n  export default {\r\n    name: 'CouponDetail',\r\n    props: {\r\n      isEdit: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        coupon: Object.assign({}, defaultCoupon),\r\n        typeOptions: Object.assign({}, defaultTypeOptions),\r\n        platformOptions: Object.assign({}, defaultPlatformOptions),\r\n        rules: {\r\n          name: [\r\n            {required: true, message: '请输入优惠券名称', trigger: 'blur'},\r\n            {min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur'}\r\n          ],\r\n          publishCount: [\r\n            {type: 'number',required: true, message: '只能输入正整数', trigger: 'blur'}\r\n          ],\r\n          amount: [\r\n            {type: 'number',required: true,message: '面值只能是数值，0.01-10000，限2位小数',trigger: 'blur'}\r\n          ],\r\n          minPoint: [\r\n            {type: 'number',required: true,message: '只能输入正整数',trigger: 'blur'}\r\n          ]\r\n        },\r\n        selectProduct:null,\r\n        selectProductLoading: false,\r\n        selectProductOptions:[],\r\n        selectProductCate: null,\r\n        productCateOptions: []\r\n      }\r\n    },\r\n    created(){\r\n      if(this.isEdit){\r\n        getCoupon(this.$route.query.id).then(response=>{\r\n          this.coupon=response.data;\r\n        });\r\n      }\r\n      this.getProductCateList();\r\n    },\r\n    methods:{\r\n      onSubmit(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            this.$confirm('是否提交数据', '提示', {\r\n              confirmButtonText: '确定',\r\n              cancelButtonText: '取消',\r\n              type: 'warning'\r\n            }).then(() => {\r\n              if(this.isEdit){\r\n                updateCoupon(this.$route.query.id,this.coupon).then(response=>{\r\n                  this.$refs[formName].resetFields();\r\n                  this.$message({\r\n                    message: '修改成功',\r\n                    type: 'success',\r\n                    duration:1000\r\n                  });\r\n                  this.$router.back();\r\n                });\r\n              }else{\r\n                createCoupon(this.coupon).then(response=>{\r\n                  this.$refs[formName].resetFields();\r\n                  this.$message({\r\n                    message: '提交成功',\r\n                    type: 'success',\r\n                    duration:1000\r\n                  });\r\n                  this.$router.back();\r\n                });\r\n              }\r\n            });\r\n          } else {\r\n            this.$message({\r\n              message: '验证失败',\r\n              type: 'error',\r\n              duration:1000\r\n            });\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n        this.coupon = Object.assign({},defaultCoupon);\r\n      },\r\n      searchProductMethod(query){\r\n        if (query !== '') {\r\n          this.loading = true;\r\n          fetchProductList({keyword:query}).then(response=>{\r\n            this.loading=false;\r\n            let productList = response.data;\r\n            this.selectProductOptions = [];\r\n            for(let i=0;i<productList.length;i++){\r\n              let item = productList[i];\r\n              this.selectProductOptions.push({productId:item.id,productName:item.name,productSn:item.productSn});\r\n            }\r\n          });\r\n        } else {\r\n          this.selectProductOptions = [];\r\n        }\r\n      },\r\n      handleAddProductRelation(){\r\n        if(this.selectProduct===null){\r\n          this.$message({\r\n            message: '请先选择商品',\r\n            type: 'warning'\r\n          });\r\n          return\r\n        }\r\n        this.coupon.productRelationList.push(this.getProductById(this.selectProduct));\r\n        this.selectProduct=null;\r\n      },\r\n      handleDeleteProductRelation(index,row){\r\n        this.coupon.productRelationList.splice(index,1);\r\n      },\r\n      handleAddProductCategoryRelation(){\r\n        if(this.selectProductCate===null||this.selectProductCate.length===0){\r\n          this.$message({\r\n            message: '请先选择商品分类',\r\n            type: 'warning'\r\n          });\r\n          return\r\n        }\r\n        this.coupon.productCategoryRelationList.push(this.getProductCateByIds(this.selectProductCate));\r\n        this.selectProductCate=[];\r\n      },\r\n      handleDeleteProductCateRelation(index,row){\r\n        this.coupon.productCategoryRelationList.splice(index,1);\r\n      },\r\n      getProductById(id){\r\n        for(let i=0;i<this.selectProductOptions.length;i++){\r\n          if(id===this.selectProductOptions[i].productId){\r\n            return this.selectProductOptions[i];\r\n          }\r\n        }\r\n        return null;\r\n      },\r\n      getProductCateList() {\r\n        fetchListWithChildren().then(response => {\r\n          let list = response.data;\r\n          this.productCateOptions = [];\r\n          for (let i = 0; i < list.length; i++) {\r\n            let children = [];\r\n            if (list[i].children != null && list[i].children.length > 0) {\r\n              for (let j = 0; j < list[i].children.length; j++) {\r\n                children.push({label: list[i].children[j].name, value: list[i].children[j].id});\r\n              }\r\n            }\r\n            this.productCateOptions.push({label: list[i].name, value: list[i].id, children: children});\r\n          }\r\n        });\r\n      },\r\n      getProductCateByIds(ids){\r\n        let name;\r\n        let parentName;\r\n        for (let i = 0; i < this.productCateOptions.length; i++) {\r\n          if (this.productCateOptions[i].value === ids[0]) {\r\n            parentName = this.productCateOptions[i].label;\r\n            for (let j = 0; j < this.productCateOptions[i].children.length; j++) {\r\n              if (this.productCateOptions[i].children[j].value === ids[1]) {\r\n                name = this.productCateOptions[i].children[j].label;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return {productCategoryId: ids[1], productCategoryName: name, parentCategoryName: parentName};\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style scoped>\r\n  .input-width {\r\n    width: 60%;\r\n  }\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CouponDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CouponDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CouponDetail.vue?vue&type=template&id=39d7cd6c&scoped=true&\"\nimport script from \"./CouponDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./CouponDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CouponDetail.vue?vue&type=style&index=0&id=39d7cd6c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39d7cd6c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('coupon-detail',{attrs:{\"isEdit\":true}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <coupon-detail :isEdit=\"true\"></coupon-detail>\r\n</template>\r\n<script>\r\nimport CouponDetail from './components/CouponDetail'\r\nexport default {\r\n  components: { CouponDetail },\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./updateCoupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./updateCoupon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./updateCoupon.vue?vue&type=template&id=d3dd7976&\"\nimport script from \"./updateCoupon.vue?vue&type=script&lang=js&\"\nexport * from \"./updateCoupon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","import request from '@/utils/request'\r\nexport function fetchList(params) {\r\n  return request({\r\n    url: '/product/list',\r\n    method: 'get',\r\n    params: params,\r\n  })\r\n}\r\n\r\nexport function fetchSimpleList(params) {\r\n  return request({\r\n    url: '/product/simpleList',\r\n    method: 'get',\r\n    params: params,\r\n  })\r\n}\r\n\r\nexport function updateDeleteStatus(params) {\r\n  return request({\r\n    url: '/product/update/deleteStatus',\r\n    method: 'post',\r\n    params: params,\r\n  })\r\n}\r\n\r\nexport function updateNewStatus(params) {\r\n  return request({\r\n    url: '/product/update/newStatus',\r\n    method: 'post',\r\n    params: params,\r\n  })\r\n}\r\n\r\nexport function updateRecommendStatus(params) {\r\n  return request({\r\n    url: '/product/update/recommendStatus',\r\n    method: 'post',\r\n    params: params,\r\n  })\r\n}\r\n\r\nexport function updatePublishStatus(params) {\r\n  return request({\r\n    url: '/product/update/publishStatus',\r\n    method: 'post',\r\n    params: params,\r\n  })\r\n}\r\n\r\nexport function createProduct(data) {\r\n  return request({\r\n    url: '/product/create',\r\n    method: 'post',\r\n    data: data,\r\n  })\r\n}\r\n\r\nexport function updateProduct(id, data) {\r\n  return request({\r\n    url: '/product/update/' + id,\r\n    method: 'post',\r\n    data: data,\r\n  })\r\n}\r\n\r\nexport function getProduct(id) {\r\n  return request({\r\n    url: '/product/updateInfo/' + id,\r\n    method: 'get',\r\n  })\r\n}\r\n","import request from '@/utils/request'\r\nexport function fetchList(params) {\r\n  return request({\r\n    url:'/coupon/list',\r\n    method:'get',\r\n    params:params\r\n  })\r\n}\r\n\r\nexport function createCoupon(data) {\r\n  return request({\r\n    url:'/coupon/create',\r\n    method:'post',\r\n    data:data\r\n  })\r\n}\r\n\r\nexport function getCoupon(id) {\r\n  return request({\r\n    url:'/coupon/'+id,\r\n    method:'get',\r\n  })\r\n}\r\n\r\nexport function updateCoupon(id,data) {\r\n  return request({\r\n    url:'/coupon/update/'+id,\r\n    method:'post',\r\n    data:data\r\n  })\r\n}\r\n\r\nexport function deleteCoupon(id) {\r\n  return request({\r\n    url:'/coupon/delete/'+id,\r\n    method:'post',\r\n  })\r\n}\r\n","import request from '@/utils/request'\r\nexport function fetchList(parentId,params) {\r\n  return request({\r\n    url:'/productCategory/list/'+parentId,\r\n    method:'get',\r\n    params:params\r\n  })\r\n}\r\nexport function deleteProductCate(id) {\r\n  return request({\r\n    url:'/productCategory/delete/'+id,\r\n    method:'post'\r\n  })\r\n}\r\n\r\nexport function createProductCate(data) {\r\n  return request({\r\n    url:'/productCategory/create',\r\n    method:'post',\r\n    data:data\r\n  })\r\n}\r\n\r\nexport function updateProductCate(id,data) {\r\n  return request({\r\n    url:'/productCategory/update/'+id,\r\n    method:'post',\r\n    data:data\r\n  })\r\n}\r\n\r\nexport function getProductCate(id) {\r\n  return request({\r\n    url:'/productCategory/'+id,\r\n    method:'get',\r\n  })\r\n}\r\n\r\nexport function updateShowStatus(data) {\r\n  return request({\r\n    url:'/productCategory/update/showStatus',\r\n    method:'post',\r\n    data:data\r\n  })\r\n}\r\n\r\nexport function updateNavStatus(data) {\r\n  return request({\r\n    url:'/productCategory/update/navStatus',\r\n    method:'post',\r\n    data:data\r\n  })\r\n}\r\n\r\nexport function fetchListWithChildren() {\r\n  return request({\r\n    url:'/productCategory/list/withChildren',\r\n    method:'get'\r\n  })\r\n}\r\n"],"sourceRoot":""}